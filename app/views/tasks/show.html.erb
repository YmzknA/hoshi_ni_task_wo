<!-- stimulusを使用して、connect時にモーダルを開く -->
<%= turbo_frame_tag "tasks_show_modal" do %>
  <div data-controller="show-modal">
    <div data-show-modal-target="modal_top">
      <dialog data-show-modal-target="task_modal" id="tasks_show_modal" class="modal" <%= @tasks_show_modal_open ? 'open' : ' ' %> >

        <!-- まずはturbo_frame_tagを使ってtasks/showでモーダルの部分を表示 -->
        <!-- tasks#updateでturbo_stremasを使って、モーダルの部分を_tasks_showファイルに置換しています -->

        <!-- ここから貼り付け to "_tasks_show.html" -->
        <%= render "tasks/tasks_show_modal_content", task: @task %>

        <!-- ここまで貼り付け to "_tasks_show.html" -->

        <form method="dialog" class="modal-backdrop">
          <button>close</button>
        </form>
      </dialog>
    </div>
  </div>
<% end %>
